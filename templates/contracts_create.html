<!DOCTYPE html>
<html lang="ar">
{% extends "base.html" %}
{% block title %}ุนูุฏ ุฌุฏูุฏ{% endblock %}
{% block extra_head %}<link rel="stylesheet" href="{{ url_for('static', filename='css/contracts.css') }}">{% endblock %}
{% block content %}
<div class="card p-3">
  <div class="d-flex align-items-center justify-content-between mb-2" style="display:flex;align-items:center;justify-content:space-between;margin-bottom:8px">
    <h3 class="m-0">ุฅูุดุงุก ุนูุฏ ุฌุฏูุฏ</h3>
    <div class="alert alert-info m-0">ุฑูู ุงูุนูุฏ ุณูุชูููุฏ ุชููุงุฆููุง: <strong>{{ generated_no }}</strong></div>
  </div>

  <form method="POST">
    <input type="hidden" id="csrf_token" name="csrf_token" value="{{ csrf_token() }}">

    <div class="row">
      <div class="col-md-12"><h4 class="mb-2 text-brand">ูุนูููุงุช ุงูุงุฌุชูุงุน</h4></div>
      <div class="col-md-4">
        <label class="form-label" for="meeting_day_name">ุงุณู ุงูููู</label>
        <input id="meeting_day_name" name="meeting_day_name" class="form-control" required value="{{ formvals.meeting_day_name or '' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="meeting_date_h">ุชุงุฑูุฎ ุงูุงุฌุชูุงุน (ูุฌุฑู)</label>
        <input id="meeting_date_h" name="meeting_date_h" class="form-control" required value="{{ formvals.meeting_date_h or '' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="city">ุงููุฏููุฉ</label>
        <input id="city" name="city" class="form-control" required value="{{ formvals.city or 'ุฌุฏุฉ' }}">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12"><h4 class="mb-2 text-brand">ุจูุงูุงุช ุงูุทุฑู ุงูุซุงูู</h4></div>
      <div class="col-md-6">
        <label class="form-label" for="partner2_name">ุงูุงุณู</label>
        <input id="partner2_name" name="partner2_name" class="form-control" required value="{{ formvals.partner2_name or '' }}">
      </div>
      <div class="col-md-3">
        <label class="form-label" for="sign2_id">ุงููููุฉ/ุงูุณุฌู</label>
        <input id="sign2_id" name="sign2_id" class="form-control" required inputmode="numeric" placeholder="10-15 ุฑูู" value="{{ formvals.sign2_id or '' }}">
      </div>
      <div class="col-md-3">
        <label class="form-label" for="sign2_phone">ุงูุฌูุงู</label>
        <input id="sign2_phone" name="sign2_phone" class="form-control" required inputmode="numeric" placeholder="05XXXXXXXX" value="{{ formvals.sign2_phone or '' }}">
      </div>
      <div class="col-md-12">
        <label class="form-label" for="client_address">ุงูุนููุงู</label>
        <input id="client_address" name="client_address" class="form-control" required value="{{ formvals.client_address or '' }}">
      </div>

      <div class="col-md-6">
        <label class="form-label" for="investment_amount">ูุจูุบ ุงููุดุงุฑูุฉ</label>
        <div class="input-group">
          <input id="investment_amount" name="investment_amount" class="form-control" required inputmode="decimal" step="0.01" value="{{ formvals.investment_amount or '' }}">
          <img src="{{ url_for('static', filename='img/Saudi_Riyal_Symbol.svg.png') }}" alt="SAR" class="riyal-icon">
        </div>
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12"><h4 class="mb-2 text-brand">ุชูุงุตูู ูุงููุฉ</h4></div>
      <div class="col-md-4">
        <label class="form-label" for="capital_amount">ุฑุฃุณ ุงููุงู (ููุฐูุฑ ูู ุงูุนูุฏ)</label>
        <div class="input-group">
          <input id="capital_amount" name="capital_amount" class="form-control" required inputmode="decimal" step="0.01" value="{{ formvals.capital_amount or '' }}">
          <img src="{{ url_for('static', filename='img/Saudi_Riyal_Symbol.svg.png') }}" alt="SAR" class="riyal-icon">
        </div>
      </div>
      <div class="col-md-4">
        <label class="form-label" for="profit_percent">ูุณุจุฉ ุฑุจุญ ุงูุทุฑู ุงูุซุงูู</label>
        <div class="input-group">
          <input id="profit_percent" name="profit_percent" class="form-control" required inputmode="decimal" step="0.01" value="{{ formvals.profit_percent or '30' }}">
          <span class="input-group-text">%</span>
        </div>
      </div>
      <div class="col-md-4">
        <label class="form-label" for="profit_interval_months">ุฏูุฑูุฉ ุฃุฑุจุงุญ (ุฃุดูุฑ)</label>
        <input id="profit_interval_months" name="profit_interval_months" class="form-control" required inputmode="numeric" value="{{ formvals.profit_interval_months or '6' }}">
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-md-12"><h4 class="mb-2 text-brand">ููุงุนูุฏ</h4></div>
      <div class="col-md-4">
        <label class="form-label" for="withdrawal_notice_days">ุฅุฎุทุงุฑ ุงูุณุญุจ (ุฃูุงู)</label>
        <input id="withdrawal_notice_days" name="withdrawal_notice_days" class="form-control" required inputmode="numeric" value="{{ formvals.withdrawal_notice_days or '60' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="start_date_h">ุจุฏุงูุฉ ุงูุนูุฏ (ูุฌุฑู)</label>
        <input id="start_date_h" name="start_date_h" class="form-control" required value="{{ formvals.start_date_h or '' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="end_date_h">ููุงูุฉ ุงูุนูุฏ (ูุฌุฑู)</label>
        <input id="end_date_h" name="end_date_h" class="form-control" required value="{{ formvals.end_date_h or '' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="commission_percent">ุนูููุฉ ุงูุชุณููู</label>
        <div class="input-group">
          <input id="commission_percent" name="commission_percent" class="form-control" required inputmode="decimal" step="0.01" value="{{ formvals.commission_percent or '2.5' }}"><span class="input-group-text">%</span>
        </div>
      </div>
      <div class="col-md-4">
        <label class="form-label" for="exit_notice_days">ุฅุฎุทุงุฑ ุงูุงูุณุญุงุจ (ุฃูุงู)</label>
        <input id="exit_notice_days" name="exit_notice_days" class="form-control" required inputmode="numeric" value="{{ formvals.exit_notice_days or '90' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="jurisdiction">ุงูุงุฎุชุตุงุต ุงููุถุงุฆู</label>
        <input id="jurisdiction" name="jurisdiction" class="form-control" required value="{{ formvals.jurisdiction or 'ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ' }}">
      </div>
      <div class="col-md-4">
        <label class="form-label" for="penalty_amount">ุงูุดุฑุท ุงูุฌุฒุงุฆู (ุฑูุงู)</label>
        <input id="penalty_amount" name="penalty_amount" class="form-control" required inputmode="numeric" value="{{ formvals.penalty_amount or '3000' }}">
      </div>
    </div>

    <div class="btn-row">
      <button class="btn btn-secondary" name="action" value="preview" type="submit">๐ ูุนุงููุฉ</button>
      <button class="btn btn-primary" name="action" value="save" type="submit">ุญูุธ</button>
      <button class="btn" name="action" value="save_back" type="submit">ุญูุธ ูุงูุฑุฌูุน</button>
      <button class="btn btn-success" name="action" value="save_pdf" type="submit">ุญูุธ + PDF</button>
      <a class="btn btn-light" href="{{ url_for('contracts_list_view') }}">ุฅูุบุงุก</a>
    </div>
  </form>

  {% if preview_content %}
    <hr><h4>ูุนุงููุฉ ูุต ุงูุนูุฏ</h4>
  {% endif %}
</div>
{% endblock %}
