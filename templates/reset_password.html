{% extends "base.html" %}
{% block title %}إعادة تعيين كلمة المرور{% endblock %}
{% block content %}
<div class="auth-page">
  <div class="auth-card">
    <div class="inner">
      <h2 class="auth-title">إعادة تعيين كلمة المرور</h2>
      <form method="POST" autocomplete="off" novalidate>
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="form-row">
          <label class="form-label" for="np1">كلمة مرور جديدة</label>
          <div class="input-wrap">
            <input
              class="input"
              id="np1"
              name="password"
              type="password"
              minlength="8"
              required
              placeholder="••••••••"
              autocomplete="new-password"
              inputmode="text"
              aria-required="true">
            <button type="button" class="toggle-eye" aria-label="إظهار/إخفاء كلمة المرور" onclick="togglePwd('np1', this)">👁️</button>
          </div>
        </div>
        <div class="form-row">
          <label class="form-label" for="np2">تأكيد كلمة المرور</label>
          <div class="input-wrap">
            <input
              class="input"
              id="np2"
              name="confirm_password"
              type="password"
              minlength="8"
              required
              placeholder="••••••••"
              autocomplete="new-password"
              inputmode="text"
              aria-required="true">
            <button type="button" class="toggle-eye" aria-label="إظهار/إخفاء تأكيد كلمة المرور" onclick="togglePwd('np2', this)">👁️</button>
          </div>
        </div>
        <button class="btn btn-primary btn-block" type="submit">تحديث كلمة المرور</button>
        <div class="auth-actions">
          <a class="btn-link small" href="{{ url_for('login') }}">رجوع لتسجيل الدخول</a>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
function togglePwd(id, btn){
  const i = document.getElementById(id);
  i.type = (i.type === 'password') ? 'text' : 'password';
  btn.style.opacity = (i.type === 'password') ? .7 : 1;
}
</script>
{% endblock %}
